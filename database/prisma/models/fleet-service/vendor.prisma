
// Vendor Model
model Vendor {
  vendor_id   Int      @id @default(autoincrement())
  tenant_id   String   @db.VarChar(50)
  name        String   @db.VarChar(150)
  vendor_code String   @db.VarChar(50)
  email       String?  @db.VarChar(150)
  phone       String?  @db.VarChar(20)
  is_active   Boolean  @default(true)
  created_at  DateTime @default(now())
  updated_at  DateTime @updatedAt

  tenant        Tenant         @relation(fields: [tenant_id], references: [tenant_id], onDelete: Cascade)
  drivers       Driver[]
  vehicle_types VehicleType[]
  vehicles      Vehicle[]
  vendor_users  VendorUser[]

  @@unique([tenant_id, name], name: "uq_vendor_name_per_tenant")
  @@unique([tenant_id, vendor_code], name: "uq_vendor_code_per_tenant")
  @@unique([tenant_id, email], name: "uq_vendor_email_per_tenant")
  @@unique([tenant_id, phone], name: "uq_vendor_phone_per_tenant")
  @@index([vendor_id])
  @@map("vendors")
}