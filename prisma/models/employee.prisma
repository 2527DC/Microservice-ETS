model Employee {
  employee_id              Int       @id @default(autoincrement())
  tenant_id                String    @db.VarChar(50)
  role_id                  Int
  name                     String    @db.VarChar(150)
  employee_code            String    @db.VarChar(50)
  email                    String    @db.VarChar(150)
  password                 String    @db.VarChar(255)
  team_id                  Int?
  phone                    String    @db.VarChar(20)
  alternate_phone          String?   @db.VarChar(20)
  special_needs            String?   @db.Text
  special_needs_start_date DateTime? @db.Date  // ✅ Changed from Date? to DateTime? @db.Date
  special_needs_end_date   DateTime? @db.Date  // ✅ Changed from Date? to DateTime? @db.Date
  address                  String?   @db.Text
  latitude                 Decimal?  @db.Decimal(9, 6)
  longitude                Decimal?  @db.Decimal(9, 6)
  gender                   GenderEnum?
  is_active                Boolean   @default(true)
  created_at               DateTime  @default(now())
  updated_at               DateTime  @updatedAt

  tenant         Tenant         @relation(fields: [tenant_id], references: [tenant_id], onDelete: Cascade)
  team           Team?          @relation(fields: [team_id], references: [team_id], onDelete: SetNull)
  role           Role           @relation(fields: [role_id], references: [role_id], onDelete: Cascade)
  bookings       Booking[]
  weekoff_config WeekoffConfig?

  @@unique([tenant_id, employee_code], name: "uq_employee_code_per_tenant")
  @@unique([tenant_id, email], name: "uq_employee_email_per_tenant")
  @@unique([tenant_id, phone], name: "uq_employee_phone_per_tenant")
  @@map("employees")
}
