// Vehicle Model
model Vehicle {
  vehicle_id            Int       @id @default(autoincrement())
  vehicle_type_id       Int
  vendor_id             Int
  driver_id             Int?
  rc_number             String    @db.VarChar(100)
  rc_expiry_date        DateTime? @db.Date
  description           String?   @db.Text
  puc_number            String?   @db.VarChar(100)
  puc_expiry_date       DateTime? @db.Date
  puc_url               String?   @db.Text
  fitness_number        String?   @db.VarChar(100)
  fitness_expiry_date   DateTime? @db.Date
  fitness_url           String?   @db.Text
  tax_receipt_number    String?   @db.VarChar(100)
  tax_receipt_date      DateTime? @db.Date
  tax_receipt_url       String?   @db.Text
  insurance_number      String?   @db.VarChar(100)
  insurance_expiry_date DateTime? @db.Date
  insurance_url         String?   @db.Text
  permit_number         String?   @db.VarChar(100)
  permit_expiry_date    DateTime? @db.Date
  permit_url            String?   @db.Text
  is_active             Boolean   @default(true)
  created_at            DateTime  @default(now())
  updated_at            DateTime  @updatedAt

  vehicle_type VehicleType @relation(fields: [vehicle_type_id], references: [vehicle_type_id], onDelete: Cascade)
  vendor       Vendor      @relation(fields: [vendor_id], references: [vendor_id], onDelete: Cascade)
  driver       Driver?     @relation(fields: [driver_id], references: [driver_id], onDelete: SetNull)

  @@unique([vendor_id, rc_number], name: "uq_vendor_rc_number")
  @@unique([vendor_id, puc_number], name: "uq_vendor_puc_number")
  @@unique([vendor_id, fitness_number], name: "uq_vendor_fitness_number")
  @@unique([vendor_id, tax_receipt_number], name: "uq_vendor_tax_receipt_number")
  @@unique([vendor_id, insurance_number], name: "uq_vendor_insurance_number")
  @@unique([vendor_id, permit_number], name: "uq_vendor_permit_number")
  @@index([vehicle_id])
  @@map("vehicles")
}